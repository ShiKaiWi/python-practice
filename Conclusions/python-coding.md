### Question

当我在使用 python 做爬虫的时候，由于要涉及到接收网络数据，我发现会因此而引起许多问题，比如：

1. 从网络上接收的数据并不能进行 `str` 的相关操作

2. 将 `str` 的字符作为 `socket.send()` 的参数会产生错误：

    ```shell

    sckt.send(get)

    TypeError: a bytes-like object is required, not 'str'

    ```

3. 当代码文件中含有中文的时候，必须在文件开头加上：`# coding: utf-8`



### Abstract

阅读完本文，你将会明白以下两件事：

1. 几种常见编码格式的含义

2. 使用 python 会遇到的编码问题

### 几种常见的编码格式

#### ASCII

ASCII 是 American Standard Code for Information Interchange 的缩写。



实际上就是英文字符，在计算机的表示中利用一个字节（00～7F）表示的 128 个字符，除了可以输出的字符外，还包括控制字符



### GBK

为了表示汉字，GB2312 被制定了下来，但是由于汉字众多，于是后来又在 GB2312 的基础上发展出 GBK，包括汉字以及少数民族的文字，当然也包括 ASCII 编码，这就意味着有的字符是 1 个字节，有的字符是 2 个字节，如何区分也是 GBK 所规定的，和其他编码不一样。



其中有意思的是，GB 是国家（Guojia Biaozhun）的首字母，K 是扩展（Kuozhan）的首字母。



另外需要指出的是 GBK 是作为 Unicode 的一种具体实现方式



### Unicode

Unicode 是 Unique, Universal, and Uniform character encoding 的缩写。



从名字就可以看出来这是针对全球语言制定的编码，但是需要指出的是虽然名称中带有 encoding，但是实际上与上面提到的两种编码存在一点区别——上面两种不仅将符号编码（encoding）成数字，并且在计算机中也是利用存储这些数字来表达它们的，然而 Unicode却没有涉及到后者。因此你可以将 Unicode 看成某种 API 的描述，其实现方式存在很多种，更具体地说，Unicode 给世界上每一个字符指定了唯一的数字，但是在计算机中如何表示这样的数字存在着不同的方式，包括 UTF-8，UTF-16，UCS-2 等等。



现在举例来说明，UTF-8 的编码规则可以用下表来说明：


根据表格可以观察出这样一个结论：

**开始字节从高到低若是有 n 个1，那么就说明该字符需要用 n+1 个字节来表示**



那么接下来有两个问题：

1. 给定一个字符，如何利用 UTF-8 来表示？

2. 给定了一串 UTF-8 的字节串，如何正确地识别出每个字符？



_Solution_

1. 给定一个字符，可以根据 Unicode 知道其对应的数据，然后利用上表提供的对应规则来得到表达的 UTF-8 编码

2. 根据表格的观察结果可以知道，从给定的字节串从头开始分析，从第一次开始就可以确定第一个字符需要几个字节来表示，那么之后每次都可以确定几个字节是一个字符。



### 使用 python 会遇到的编码问题

#### python3 与 python2 在编码上的区别

#### 概念： encode & decode
